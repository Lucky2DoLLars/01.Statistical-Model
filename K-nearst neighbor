x = runif(100, 0, 2* pi)
y = sin(x^2) + rnorm(100, sd = 0.15)
plot(x, y)

K = 10
x[1]
distance = (x - rep(x[1], length(x)))^2
index = distance %in% sort(distance)[2 : (K + 1)]

points(x[index], y[index], col = "red")
abline(h = mean(y[index]))
abline(v = x[1])
